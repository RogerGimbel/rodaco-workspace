import{c as j,j as e,G as m,e as h,r as L,v as f,T as F,I as z,d as I,f as w,A as S,B as P,w as g,x as p,E as N,W as k,D as $,F as E,H as T,J as B,K as D,L as H,P as O,N as v,O as U}from"./index-D8zRiVxX.js";import{C}from"./CopyButton-Bzu_qTTI.js";import{C as q}from"./check-BNjuoTF5.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=j("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=j("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=j("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=j("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=j("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=j("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=j("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),W={CEO:"ðŸ‘”",CTO:"ðŸ’»",CIO:"ðŸ“Š",CMO:"ðŸ“£"};function Y(s){if(!s)return"â€”";const t=typeof s=="string"?parseFloat(s):s;if(isNaN(t)||t<=0)return"â€”";const l=Math.floor(t/24),r=Math.round(t%24);return l>0?`${l}d ${r}h`:`${r}h`}function Q(s){return s?s.replace(/\s*\(.*\)$/,"").trim():""}function X({data:s}){const t=(s==null?void 0:s.roles)??[],l=(s==null?void 0:s.traits)??[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{hero:!0,staggerIndex:0,className:"!p-8",children:e.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-purple-500/15 border border-purple-500/20 flex items-center justify-center text-2xl",children:"âš¡"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground tracking-tight",children:(s==null?void 0:s.name)||"Agent"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[(s==null?void 0:s.model)&&e.jsx("span",{className:"text-[11px] px-3 py-1 rounded-full bg-purple-500/15 text-purple-700 dark:text-purple-300/80 border border-purple-500/20 font-medium",children:Q(s.model)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Uptime: ",e.jsx("span",{className:"text-foreground/60 font-mono",children:Y(s==null?void 0:s.uptime)})]})]})]})]})}),t.length>0&&e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:t.map((r,n)=>{const a=W[(r==null?void 0:r.title)??""]??"ðŸ”¹";return e.jsxs(m,{staggerIndex:n+1,className:"!p-5",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[e.jsx("span",{className:"text-lg",children:a}),e.jsx("p",{className:"text-base font-semibold text-foreground/90",children:r==null?void 0:r.title})]}),(r==null?void 0:r.description)&&e.jsx("p",{className:"text-xs text-foreground/50 leading-relaxed",children:r.description})]},(r==null?void 0:r.title)||n)})}),(s==null?void 0:s.personality)&&e.jsxs(m,{staggerIndex:5,className:"!p-6",children:[e.jsx("p",{className:"label-text mb-3",children:"Personality"}),e.jsx("div",{className:"border-l-2 border-purple-500/30 pl-4",children:e.jsx("p",{className:"text-sm text-foreground/80 italic leading-relaxed whitespace-pre-wrap",children:s.personality.replace(/```[\s\S]*?```/g,"").replace(/`/g,"").trim()})})]}),l.length>0&&e.jsxs(m,{staggerIndex:6,className:"!p-6",children:[e.jsx("p",{className:"label-text mb-3",children:"Traits"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((r,n)=>e.jsx("span",{className:"text-[11px] px-3 py-1.5 rounded-full bg-muted/50 text-foreground/60 border border-border leading-none",children:r},n))})]})]})}function M(s){return s.replace(/`/g,"").trim()}function ee(s,t){if(!t)return!1;const l=t.toLowerCase(),r=(s.alias||"").toLowerCase(),n=(s.name||s.fullName||"").toLowerCase();return l.includes(r)||l===n||n.includes(l)||r===l}function se({model:s,index:t,currentModel:l}){var o;const r=M(s.alias),n=s.name||s.fullName||"",a=s.bestFor?M(s.bestFor):void 0,i=ee(s,l),c=`/model ${r}`,x=(o=n.split("/")[0])==null?void 0:o.toLowerCase(),d=x==="anthropic"?"bg-purple/15 text-purple":x==="openai"?"bg-success/15 text-success":x==="xai"?"bg-info/15 text-info":x==="google"?"bg-warning/15 text-warning":"bg-muted/50 text-muted-foreground";return e.jsxs(m,{staggerIndex:t,className:h("relative transition-all duration-300",i&&"!border-success/30 ring-1 ring-success/20"),children:[i&&e.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 px-2 py-0.5 rounded-full bg-success/15 text-success text-[10px]",children:[e.jsx(q,{className:"w-3 h-3"})," Active"]}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx("p",{className:"text-lg font-semibold font-mono text-foreground",children:r}),e.jsx(C,{value:r,label:r})]}),n&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:h("text-[10px] px-2 py-0.5 rounded-full capitalize",d),children:x}),e.jsx("p",{className:"text-[11px] text-muted-foreground truncate",children:n.split("/")[1]||n})]}),a&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"label-text",children:"Best for"}),e.jsx("p",{className:"text-xs text-foreground/70 mt-0.5 leading-relaxed",children:a})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] bg-muted/50 border border-border w-full justify-center",children:[e.jsx("code",{className:"font-mono text-muted-foreground",children:c}),e.jsx(C,{value:c,label:c,className:"w-5 h-5"})]})]})}const te={main:"bg-success/15 text-success",isolated:"bg-info/15 text-info",cron:"bg-warning/15 text-warning"};function re(s){return s?s<1024?`${s} B`:s<1024*1024?`${(s/1024).toFixed(1)} KB`:`${(s/(1024*1024)).toFixed(1)} MB`:"â€”"}function ne(s){if(!s)return"â€”";const t=String(s);return t.length>12?`${t.slice(0,8)}â€¦${t.slice(-4)}`:t}function le({s,i:t}){const l=String((s==null?void 0:s.type)||(s==null?void 0:s.kind)||"session"),r=te[l]??"bg-muted/15 text-muted-foreground";return e.jsx(m,{staggerIndex:t,className:"!p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${r} shrink-0`,children:l}),(s==null?void 0:s.age)&&e.jsx("span",{className:"text-[11px] text-muted-foreground",children:String(s.age)})]}),e.jsx("p",{className:"text-sm font-mono text-foreground/60 mt-1 truncate",children:ne(s==null?void 0:s.key)}),(s==null?void 0:s.file)&&e.jsx("p",{className:"text-[10px] font-mono text-muted-foreground truncate",children:String(s.file)})]}),e.jsxs("div",{className:"text-right shrink-0 ml-3",children:[e.jsx("p",{className:"text-xs text-foreground/50 font-mono",children:re(s==null?void 0:s.size)}),(s==null?void 0:s.startedAt)&&e.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:String(new Date(String(s.startedAt)).toLocaleString())})]})]})},String((s==null?void 0:s.key)||t))}function ae({data:s}){const t=Array.isArray(s==null?void 0:s.sessions)?s.sessions:[],l=Array.isArray(s==null?void 0:s.active)?s.active.length:0,r=(s==null?void 0:s.total)??t.length,n={};for(const a of t){const i=String((a==null?void 0:a.type)||(a==null?void 0:a.kind)||"unknown");n[i]=(n[i]||0)+1}return e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsxs("div",{className:"glass-card !p-3 flex-1 min-w-[100px]",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:"Total"}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:String(r)})]}),e.jsxs("div",{className:"glass-card !p-3 flex-1 min-w-[100px]",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:"Active"}),e.jsx("p",{className:"text-lg font-semibold text-success",children:String(l)})]}),Object.entries(n).map(([a,i])=>e.jsxs("div",{className:"glass-card !p-3 flex-1 min-w-[100px]",children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:String(a)}),e.jsx("p",{className:"text-lg font-semibold text-foreground",children:String(i)})]},a))]})}function ce({sessions:s}){const[t,l]=L.useState("All"),r=s??{},n=Array.isArray(r.sessions)?r.sessions:[],a=Array.isArray(r.active)?r.active:[],i=Array.isArray(r.recent)?r.recent:[],c=d=>[...d].sort((o,u)=>new Date(String((u==null?void 0:u.startedAt)??0)).getTime()-new Date(String((o==null?void 0:o.startedAt)??0)).getTime()),x=c(t==="All"?n:t==="Active"?a:i);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{label:"Session Stats",children:e.jsx(ae,{data:r})}),e.jsx(F,{tabs:["All","Active","Recent"],active:t,onChange:l,className:"mb-2"}),x.length===0?e.jsxs("div",{className:"glass-card p-8 flex flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-info/10 flex items-center justify-center",children:e.jsx(z,{className:"w-5 h-5 text-info/50"})}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",t.toLowerCase()," sessions found"]})]}):e.jsx("div",{className:"space-y-2",children:x.map((d,o)=>e.jsx(f,{label:"Session",children:e.jsx(le,{s:d,i:o})},String((d==null?void 0:d.key)||o)))})]})}function ie({jobs:s}){return s!=null&&s.length?e.jsx("div",{className:"glass-card overflow-x-auto scrollbar-none",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border/30",children:[e.jsx("th",{className:"text-left label-text p-3",children:"Name"}),e.jsx("th",{className:"text-left label-text p-3",children:"Schedule"}),e.jsx("th",{className:"text-left label-text p-3",children:"Status"}),e.jsx("th",{className:"text-left label-text p-3",children:"Last Run"}),e.jsx("th",{className:"text-left label-text p-3",children:"Duration"}),e.jsx("th",{className:"text-left label-text p-3",children:"Errors"})]})}),e.jsx("tbody",{children:s.map((t,l)=>{const r=(t==null?void 0:t.consecutiveErrors)??0;return e.jsxs("tr",{className:"border-b border-border/20 hover:bg-muted/5 transition-colors",children:[e.jsx("td",{className:"p-3 text-foreground/70",children:String((t==null?void 0:t.name)||"â€”")}),e.jsx("td",{className:"p-3 text-muted-foreground font-mono text-xs",children:String((t==null?void 0:t.schedule)||"â€”")}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${(t==null?void 0:t.enabled)===!1?"bg-muted/15 text-muted-foreground":r>0?"bg-error/15 text-error":"bg-success/15 text-success"}`,children:String((t==null?void 0:t.enabled)===!1?"disabled":(t==null?void 0:t.lastStatus)||"â€”")})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:t!=null&&t.lastRun?String(new Date(String(t.lastRun)).toLocaleString()):"â€”"})}),e.jsx("td",{className:"p-3 text-xs text-muted-foreground font-mono",children:(t==null?void 0:t.lastDurationMs)!=null?`${t.lastDurationMs}ms`:"â€”"}),e.jsx("td",{className:"p-3",children:r>0?e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-error/20 text-error font-mono",children:[String(r),"Ã—"]}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"0"})})]},String((t==null?void 0:t.id)||l))})})]})}):e.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"No cron jobs found."})}function oe({data:s}){const t=Object.entries(s||{});return t.length?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(([l,r],n)=>e.jsxs(m,{staggerIndex:n,className:"!p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{status:r!=null&&r.configured?"ok":"offline"}),e.jsx("span",{className:"text-sm font-medium text-foreground/90 capitalize",children:l})]}),e.jsxs("div",{className:"space-y-1 text-xs text-foreground/50",children:[e.jsxs("p",{children:["Available: ",r!=null&&r.available?"Yes":"No"]}),e.jsxs("p",{children:["Configured: ",r!=null&&r.configured?"Yes":"No"]}),(r==null?void 0:r.usage)&&e.jsx("p",{className:"text-muted-foreground",children:"Has usage data"})]})]},l))}):e.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"No providers found."})}function xe(s){if(!s)return 0;const t=s.match(/([\d.]+)/);return t?parseFloat(t[1]):0}function de(s){if(!s)return 0;const t=s.match(/([\d.]+)/);return t?parseFloat(t[1]):0}function A({percent:s,thresholds:t}){const l=s>=t[1]?"bg-error":s>=t[0]?"bg-warning":"bg-success";return e.jsx("div",{className:"h-1.5 rounded-full bg-muted/60 overflow-hidden mt-2",children:e.jsx("div",{className:h("h-full rounded-full transition-all duration-500",l),style:{width:`${Math.min(s,100)}%`}})})}function me({data:s}){const t=((s==null?void 0:s.lockStatus)||"").toLowerCase()==="healthy",l=(s==null?void 0:s.zombieProcesses)??0,r=(s==null?void 0:s.warnings)||[],n=xe(s==null?void 0:s.sessionFileSize),a=de(s==null?void 0:s.heapUsage),i=2,c=n/i*100;return e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"label-text",children:"Session Health"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs(m,{staggerIndex:0,className:"!p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:h("w-7 h-7 rounded-lg flex items-center justify-center",n>1.8?"text-error bg-error/10":n>1.5?"text-warning bg-warning/10":"text-success bg-success/10"),children:e.jsx(J,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"label-text",children:"Session Size"})]}),e.jsx("p",{className:h("text-lg font-semibold",n>1.8?"text-error":n>1.5?"text-warning":"text-success"),children:(s==null?void 0:s.sessionFileSize)||"â€”"}),e.jsxs("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:[n.toFixed(2)," / ",i," MB"]}),e.jsx(A,{percent:c,thresholds:[75,90]})]}),e.jsxs(m,{staggerIndex:1,className:"!p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:h("w-7 h-7 rounded-lg flex items-center justify-center",t?"text-success bg-success/10":"text-error bg-error/10"),children:e.jsx(V,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"label-text",children:"Lock Status"})]}),t?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(w,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-lg font-semibold text-success",children:"Healthy"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(S,{className:"w-4 h-4 text-error"}),e.jsxs("span",{className:"text-lg font-semibold text-error",children:[(s==null?void 0:s.lockFileCount)??"?"," locks"]})]}),e.jsx("p",{className:"text-[10px] text-error/60 mt-1",children:"Possible stale lock files"})]})]}),e.jsxs(m,{staggerIndex:2,className:"!p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:h("w-7 h-7 rounded-lg flex items-center justify-center",l>0?"text-error bg-error/10":"text-success bg-success/10"),children:e.jsx(G,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"label-text",children:"Zombies"})]}),l===0?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(w,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-lg font-semibold text-success",children:"0"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg font-semibold text-error",children:l}),e.jsxs("button",{disabled:!0,className:"mt-2 flex items-center gap-1 px-2.5 py-1 rounded-lg text-[10px] bg-error/10 text-error/50 cursor-not-allowed border border-error/10",children:[e.jsx(_,{className:"w-3 h-3"})," Kill Zombies"]})]})]}),e.jsxs(m,{staggerIndex:3,className:"!p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:h("w-7 h-7 rounded-lg flex items-center justify-center",a>90?"text-error bg-error/10":a>80?"text-warning bg-warning/10":"text-success bg-success/10"),children:e.jsx(R,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"label-text",children:"Heap Usage"})]}),e.jsx("p",{className:h("text-lg font-semibold",a>90?"text-error":a>80?"text-warning":"text-success"),children:(s==null?void 0:s.heapUsage)||"â€”"}),e.jsx(A,{percent:a,thresholds:[80,90]})]})]}),r.length>0&&e.jsx("div",{className:"space-y-2",children:r.map((x,d)=>e.jsxs("div",{className:"flex items-start gap-2 px-4 py-3 rounded-xl bg-warning/10 border border-warning/15",children:[e.jsx(S,{className:"w-4 h-4 text-warning shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-warning/80",children:x})]},d))})]})}function ue(s){const t=Number(s??0);return t>25?"bg-destructive":t>10?"bg-warning":"bg-success"}function ge(){const{data:s,isLoading:t,isError:l,refetch:r}=P(),n=s,a=((n==null?void 0:n.tools)??[]).slice(0,10),i=Math.max(...a.map(c=>Number((c==null?void 0:c.count)??0)),1);return e.jsx(f,{label:"Tool Usage",children:t?e.jsx(g,{lines:5}):l?e.jsx(p,{label:"tool usage",onRetry:()=>r()}):a.length===0?e.jsx(N,{message:"No tool usage data",icon:e.jsx(k,{className:"w-5 h-5 text-foreground/15"})}):e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("h3",{className:"heading-section !mb-0",children:"Tool Usage"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:[String((n==null?void 0:n.totalCalls)??0)," tool calls | ",String((n==null?void 0:n.uniqueTools)??0)," unique tools"]}),e.jsx("div",{className:"space-y-2",children:a.map((c,x)=>{const d=Number((c==null?void 0:c.count)??0),o=Number((c==null?void 0:c.errorRate)??0),u=d/i*100;return e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-32 truncate text-xs text-foreground/70 shrink-0 text-right font-mono",children:String((c==null?void 0:c.name)??"â€”")}),e.jsx("div",{className:"flex-1 h-5 rounded bg-muted/30 overflow-hidden",children:e.jsx("div",{className:`h-full rounded ${ue(o)} transition-all duration-300`,style:{width:`${u}%`,animationDelay:`${x*.04}s`}})}),e.jsx("span",{className:"text-xs text-foreground/60 w-10 text-right tabular-nums",children:String(d)}),o>0&&e.jsxs("span",{className:`text-[10px] w-12 text-right tabular-nums ${o>25?"text-destructive":o>10?"text-warning":"text-muted-foreground"}`,children:[o.toFixed(0),"% err"]})]},String((c==null?void 0:c.name)??x))})})]})})}function je(){var x,d,o;const[s,t]=L.useState("Status"),l=$(),r=E(),n=T(),a=B(),i=D(),c=H();return e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Agent",subtitle:"AI agent status, models, and sessions",breadcrumb:s,onBreadcrumbRoot:()=>t("Status")}),e.jsx(F,{tabs:["Status","Models","Sessions","Providers"],active:s,onChange:t,className:"mb-8"}),s==="Status"&&e.jsx(f,{label:"Agent Status",children:e.jsxs("div",{className:"space-y-8",children:[l.isLoading?e.jsxs(e.Fragment,{children:[e.jsx(v,{label:"Agent"}),e.jsx(g,{lines:5})]}):l.isError?e.jsx(p,{label:"agent status",onRetry:()=>l.refetch()}):l.data?e.jsx(X,{data:l.data}):e.jsx(N,{message:"Agent offline",icon:e.jsx(U,{className:"w-5 h-5 text-muted-foreground/40"})}),c.isLoading?e.jsx(g,{lines:2}):c.isError?e.jsx(p,{label:"session health",onRetry:()=>c.refetch()}):c.data?e.jsx(me,{data:c.data}):null]})}),s==="Models"&&e.jsxs(f,{label:"Models",children:[r.isLoading?e.jsxs(e.Fragment,{children:[e.jsx(v,{label:"Models"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Array.from({length:4}).map((u,b)=>e.jsx(g,{lines:3},b))})]}):r.isError?e.jsx(p,{label:"models",onRetry:()=>r.refetch()}):(d=(x=r.data)==null?void 0:x.models)!=null&&d.length?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-[11px] text-muted-foreground italic",children:["Visual reference only â€” switch models in chat with ",e.jsx("code",{className:"font-mono text-muted-foreground",children:"/model alias"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.data.models.map((u,b)=>{var y;return e.jsx(se,{model:u,index:b,currentModel:(y=l.data)==null?void 0:y.model},u.alias||b)})})]}):e.jsx(N,{message:"No models configured",icon:e.jsx(R,{className:"w-5 h-5 text-foreground/15"})}),e.jsx(ge,{})]}),s==="Sessions"&&e.jsx(f,{label:"Sessions",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"heading-section mb-4",children:"Sessions"}),n.isLoading?e.jsxs(e.Fragment,{children:[e.jsx(v,{label:"Sessions"}),e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"row"}),e.jsx(g,{variant:"row"}),e.jsx(g,{variant:"row"})]})]}):n.isError?e.jsx(p,{label:"sessions",onRetry:()=>n.refetch()}):n.data?e.jsx(ce,{sessions:n.data}):e.jsx(N,{message:"No active sessions",icon:e.jsx(Z,{className:"w-5 h-5 text-muted-foreground/40"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"heading-section mb-4",children:"Cron Jobs"}),a.isLoading?e.jsx(g,{lines:3}):a.isError?e.jsx(p,{label:"cron jobs",onRetry:()=>a.refetch()}):a.data?e.jsx(ie,{jobs:((o=a.data)==null?void 0:o.jobs)||[]}):e.jsx(N,{message:"No cron jobs found"})]})]})}),s==="Providers"&&e.jsx(f,{label:"Providers",children:i.isLoading?e.jsx(g,{lines:4}):i.isError?e.jsx(p,{label:"provider data",onRetry:()=>i.refetch()}):i.data?e.jsx(oe,{data:i.data}):e.jsx(N,{message:"No providers configured",icon:e.jsx(K,{className:"w-5 h-5 text-muted-foreground/40"})})})]})}export{je as default};
