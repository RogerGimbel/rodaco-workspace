# Lovable Prompts â€” Mission Control v3 Frontend Improvements
## Generated: 2026-02-15 Overnight Build

---

## ðŸŽ¯ PRIORITY 1: New System Health Dashboard

### Prompt 1A: Add Health Score Widget to Home Page

```
Add a prominent "System Health" card to the Home page that displays the overall health score.

API endpoint: GET https://mission.rogergimbel.dev/api/v3/system/health-score

Response shape:
{
  "overall": 94,
  "components": {
    "api": 100,
    "gateway": 98,
    "macbook": 95,
    "pi": 92,
    "backups": 100,
    "cron": 95
  },
  "alerts": [
    {
      "level": "warning",
      "component": "pi",
      "message": "Temperature elevated (118Â°F)",
      "since": "2026-02-14T18:00:00Z"
    }
  ],
  "status": "excellent"
}

Requirements:
- Show overall score as a large number with circular progress indicator
- Color code: 90-100 = green, 75-89 = yellow, 60-74 = orange, <60 = red
- Display status text: "excellent", "good", "fair", "needs attention"
- Show component breakdown as mini progress bars with labels
- Display alerts as dismissible chips below the score
- Alert levels: critical (red), warning (yellow/orange), info (blue)
- Auto-refresh every 30 seconds
- Position: top row, right side (next to system stats cards)
```

---

### Prompt 1B: Add Cost Analytics to Home Page

```
Add a "Cost Analytics" card to the Home page showing spending breakdown.

API endpoint: GET https://mission.rogergimbel.dev/api/v3/metrics/costs

Response shape:
{
  "today": 1.23,
  "week": 6.57,
  "month": 24.15,
  "byProvider": {
    "anthropic": 5.02,
    "openai": 1.12,
    "xai": 0.43
  },
  "trend": "+15% vs last week",
  "timestamp": "2026-02-15T..."
}

Requirements:
- Show today/week/month as tab selector (default: week)
- Display selected value as large currency number ($6.57)
- Show trend indicator with up/down arrow and color (red if increasing, green if decreasing)
- Provider breakdown as horizontal stacked bar chart or pie chart
- Tooltip on hover showing exact provider amounts
- Auto-refresh every 60 seconds
- Position: second row, left side
```

---

### Prompt 1C: Add Performance Metrics Widget

```
Add a "System Performance" card showing API response times and errors.

API endpoint: GET https://mission.rogergimbel.dev/api/v3/metrics/performance

Response shape:
{
  "avgResponseTime": 2.3,
  "p95ResponseTime": 5.7,
  "errorsLast24h": 3,
  "toolPerformance": [
    {"tool": "exec", "avg": 234.5, "p95": 567.8},
    {"tool": "read", "avg": 12.3, "p95": 45.6}
  ],
  "slowestTool": "exec",
  "fastestTool": "read",
  "timestamp": "2026-02-15T..."
}

Requirements:
- Show avg and p95 response times as two side-by-side metrics with "ms" unit
- Display errors count with warning icon if > 0
- Show slowest/fastest tool as small badges
- Tool performance as collapsible table (hidden by default, click to expand)
- Color code response times: <1000ms green, 1000-3000ms yellow, >3000ms red
- Auto-refresh every 30 seconds
- Position: second row, middle
```

---

## ðŸŽ¯ PRIORITY 2: Fix Ops Page Tab Content

### Prompt 2A: Fix Tasks Tab

```
The Ops page has three tabs (Tasks, Goals, Overnight) but clicking them doesn't show content.

Current issue: Tab buttons exist but content isn't rendering.

Fix by:
1. Add proper tab state management (useState hook, default to "tasks")
2. Create three tab content components:
   - TasksTab: fetches /api/v3/active-tasks
   - GoalsTab: fetches /api/v3/goals
   - OvernightTab: fetches /api/v3/overnight-log

TasksTab API response:
{
  "tasks": [
    {
      "title": "ðŸ” SOPS/age Secrets Hardening â€” âœ… COMPLETE",
      "status": "active",
      "sections": [...],
      "nextStep": "API fixes committed"
    }
  ]
}

Display:
- Each task as an expandable card
- Title with status badge (active=green, complete=gray, queued=blue)
- Click to expand sections
- Show nextStep as highlighted text below title
- Empty state: "No active tasks" with icon
```

---

### Prompt 2B: Add Overnight Build History

```
Add a new "Overnight History" section to the Ops page below the tabs.

API endpoint: GET https://mission.rogergimbel.dev/api/v3/overnight-history

Response shape:
{
  "builds": [
    {
      "date": "2026-02-15",
      "duration": "23 minutes",
      "tasksCompleted": 3,
      "filesChanged": 12,
      "modelUsed": "claude-sonnet-4-5",
      "cost": 0.45,
      "summary": "Mission Control v3 audit..."
    }
  ],
  "totalBuilds": 15,
  "avgDuration": 18.5,
  "totalCost": 6.75
}

Requirements:
- Timeline view with most recent at top
- Each build as a card showing:
  - Date + duration in header
  - Tasks/files changed as small metrics
  - Model badge + cost
  - Summary text (first 150 chars, "Read more" to expand)
- Summary stats at top: total builds, avg duration, total cost
- Limit: show last 10 builds by default, "Show more" button to load all
- Empty state: "No overnight builds recorded yet"
```

---

## ðŸŽ¯ PRIORITY 3: Enhance Projects Page

### Prompt 3A: Add Project Metrics

```
Enhance the Projects page to show more metrics for each project.

For BeerPair project, add:
- Test results count (from API: testResults array length)
- Credits used/total as progress bar
- App store status as badge (in-progress, submitted, live)
- Quick links to:
  - Live site (url field)
  - Marketing presentation (look for presentation.html in marketingAssets)
  - Latest test guide (look for test-guide.md in marketingAssets)

Add a "Marketing Assets" collapsible section showing:
- Count by type: images (PNG), documents (MD), PDFs
- Most recent 5 assets with thumbnail for images
- Click to view/download

Empty state for Ocean One: "Basic project info only - expand this!"
```

---

### Prompt 3B: Add Project Activity Feed

```
Add an "Activity" tab to each project showing relevant updates.

Logic:
- Filter /api/v3/activity events by keyword matching project name
- Show events like: file writes to project paths, tool calls mentioning project
- Group by date
- Show last 20 events

Display:
- Mini activity stream (smaller than main activity on Home)
- Date separators ("Today", "Yesterday", "Feb 14")
- Each event: timestamp, type icon, summary text
- Click event to see full details in modal
```

---

## ðŸŽ¯ PRIORITY 4: Knowledge Graph Enhancements

### Prompt 4A: Improve Graph Visualization

```
The Knowledge page should display the force-directed graph from /api/v3/knowledge/graph.

Current state: needs verification if working.

Enhancements:
- Color nodes by type: people=blue, projects=green, infrastructure=red, companies=purple
- Node size based on connection count (more edges = larger node)
- Edge thickness based on reference frequency (if edge has "weight" property)
- Hover node shows: entity name, type, file count, connection count
- Click node opens entity detail modal fetching /api/v3/knowledge/entity?path=NAME
- Search box above graph: type to highlight matching nodes
- Filter by entity type: checkboxes for people/projects/infrastructure/companies
- Zoom controls + reset view button
- Mobile: switch to list view instead of force graph
```

---

### Prompt 4B: Add Knowledge Timeline

```
Add a second tab to Knowledge page called "Timeline" showing daily note activity.

API endpoint: /api/v3/knowledge/timeline

Response shape:
{
  "days": [
    {
      "date": "2026-02-15",
      "wordCount": 1234,
      "sections": 8,
      "file": "2026-02-15.md"
    }
  ]
}

Display:
- Calendar heatmap showing word count per day (last 90 days)
- Color intensity: more words = darker color
- Click day opens that day's note in a modal
- Summary stats: total days, total words, avg words/day, most active day
- Filter: month selector dropdown
```

---

## ðŸŽ¯ PRIORITY 5: Agent Page Improvements

### Prompt 5A: Add Model Switcher

```
Add an interactive model selector to the Agent page.

API endpoint: /api/v3/agent/models

Response shape:
{
  "models": [
    {"alias": "grok", "name": "xai/grok-4-1-fast-non-reasoning", "bestFor": "General tasks, web/X search"},
    {"alias": "grok-reason", "name": "xai/grok-4-1-fast-reasoning", "bestFor": "Deep analysis, complex reasoning"},
    ...
  ]
}

Display:
- Grid of model cards (2-3 per row)
- Each card shows: alias (large), model name (small), bestFor text
- Current model highlighted with green border + checkmark
- Click card shows "Switch to {alias}?" confirmation
- Note: "This is a visual reference only. Switch models in chat with /model {alias}"
- Maybe add a "Copy command" button that copies "/model grok-reason" to clipboard
```

---

### Prompt 5B: Session Health Monitor

```
Add a "Session Health" section to Agent page.

API endpoint: /api/v3/metrics/session-health

Response shape:
{
  "sessionFileSize": "1.8 MB",
  "lockStatus": "healthy",
  "zombieProcesses": 0,
  "heapUsage": "24%",
  "warnings": ["Session file exceeds 2 MB - consider rotation"]
}

Display:
- 4 metrics in a row: file size, lock status, zombie count, heap usage
- Each metric as a small card with icon + value
- Color code: green=healthy, yellow=warning, red=critical
- Warnings displayed as alert banner below metrics (orange background)
- If lockStatus != "healthy", show count of lock files
- If zombieProcesses > 0, add button "Kill Zombies" (disabled in UI, just informational)
- Auto-refresh every 15 seconds
```

---

## ðŸŽ¯ PRIORITY 6: Research Page Content

### Prompt 6A: Marketing Ideas Board

```
The Research page should show marketing ideas in a Kanban-style board.

API endpoint: /api/v3/research/marketing

Response shape (currently sparse, but structured for growth):
{
  "ideas": [
    {
      "title": "BeerPair B2B venue strategy",
      "description": "...",
      "project": "beerpair",
      "category": "b2b",
      "status": "idea"
    }
  ]
}

Display:
- Three columns: "Ideas", "In Progress", "Completed"
- Ideas as draggable cards (note: drag is UI only, no persistence yet)
- Each card shows: title, project tag, category tag
- Click card to expand description
- Filter by project: dropdown selector
- Filter by category: dropdown selector
- Empty state per column: "No {status} ideas yet"
- Future: add "+ New Idea" button (disabled for now)
```

---

### Prompt 6B: Competitive Analysis List

```
Add Competitive Analysis section to Research page.

API endpoint: /api/v3/research/competitive

Response shape (currently empty, but ready for data):
{
  "analyses": [
    {
      "date": "2026-02-10",
      "competitor": "Competitor Name",
      "findings": "...",
      "title": "Competitive Analysis"
    }
  ]
}

Display:
- List of analysis entries, newest first
- Each entry as a card: date, competitor name (bold), findings (truncated to 200 chars)
- Click "Read more" to expand findings
- Empty state: "No competitive analyses yet. Research competitors and document findings in daily notes."
- Add helpful hint: "Analyses auto-populate from `## Competitive Analysis` sections in daily notes"
```

---

## ðŸ”§ GENERAL UI POLISH

### Prompt 7A: Mobile Responsiveness Check

```
Ensure all pages are mobile-friendly:
- Home: stack cards vertically on mobile (<640px)
- Ops: tabs should scroll horizontally if needed
- Agent: model cards stack 1-per-row on mobile
- Projects: collapsible sections for marketing assets
- Knowledge: graph switches to list view on mobile
- Research: Kanban columns stack vertically

Test at 3 breakpoints:
- Mobile: 375px (iPhone SE)
- Tablet: 768px (iPad)
- Desktop: 1440px

Fix any overflow, text cutoff, or horizontal scroll issues.
```

---

### Prompt 7B: Loading States

```
Add proper loading states to all API-dependent components:
- Show skeleton loaders matching the final layout
- Spinner for small widgets
- Shimmer effect for card-based layouts
- Error states: "Failed to load {data}. Refresh to try again." with retry button
- Empty states with helpful illustrations or icons

Never show: "undefined", "null", or error stack traces in UI
Always show: friendly message + action (refresh, go back, contact support)
```

---

### Prompt 7C: Auto-Refresh Indicators

```
For components that auto-refresh (Home page widgets):
- Add subtle refresh indicator (spinning icon or pulsing dot)
- Show "Last updated: 3s ago" timestamp
- Add manual refresh button (circular arrow icon)
- Pause auto-refresh when user is interacting with the component
- Resume auto-refresh after 10 seconds of inactivity
```

---

## ðŸ“Š DATA VISUALIZATION UPGRADES

### Prompt 8A: Replace Usage Chart with Better Viz

```
Home page shows token usage by model and by day. Current display needs upgrade.

Replace with:
- Tab selector: "By Model" | "By Day" | "By Provider"
- By Model: horizontal bar chart, sorted by usage, color-coded
- By Day: line chart showing daily token trend (last 14 days)
- By Provider: donut chart with provider names + percentages
- All charts: interactive tooltips showing exact values
- Add export button: "Download CSV" (client-side, no API needed)
```

---

### Prompt 8B: Activity Stream Improvements

```
Home page activity stream is currently just text. Make it richer:
- Group events by time: "Just now", "5 minutes ago", "1 hour ago", "Today", "Yesterday"
- Add type-specific icons: exec=terminal, read=file, write=pencil, tool=wrench, error=alert
- Color-code by type: info=gray, success=green, warning=yellow, error=red
- Make tool calls expandable (click to see full params/output)
- Add filter dropdown: All | Errors | Tool Calls | Messages
- Infinite scroll or "Load more" button (currently shows ~20 events, API has 642 total)
```

---

## ðŸŽ¨ VISUAL POLISH

### Prompt 9A: Consistent Color Scheme

```
Audit all components for color consistency:
- Primary: Use for CTAs, active states, links
- Success: Green for healthy states, completed tasks
- Warning: Yellow/orange for warnings, elevated metrics
- Error: Red for critical alerts, failures
- Info: Blue for neutral informational elements
- Neutral: Gray scale for text, borders, backgrounds

Ensure:
- Text contrast meets WCAG AA (4.5:1 for normal text, 3:1 for large)
- Color is not the only indicator (use icons + text too)
- Dark mode support (if implemented)
```

---

### Prompt 9B: Typography Hierarchy

```
Establish clear typography hierarchy:
- Page title (H1): 2rem, bold, primary color
- Section title (H2): 1.5rem, semibold
- Card title (H3): 1.25rem, semibold
- Body text: 1rem, regular
- Small text (timestamps, labels): 0.875rem, regular
- Code/monospace: use for paths, commands, IDs

Ensure:
- Adequate line height (1.5 for body, 1.2 for headings)
- Sufficient spacing between sections (2rem min)
- Max line width for readability (~70ch)
```

---

## ðŸ” SECURITY & PRIVACY

### Prompt 10A: Sanitize API Keys Display

```
Ensure no API keys are ever displayed in the UI.

Check:
- /api/v3/usage/providers endpoint returns "configured: true" (not the actual keys)
- Any env var displays should mask values: "ANTHROPIC_API_KEY: sk-***...***"
- Session logs should not expose tokens
- Error messages should not leak sensitive data

Add validation:
- Before rendering, check for patterns: /sk-[a-zA-Z0-9]+/, /xai-[a-zA-Z0-9]+/, etc.
- If detected, replace with "[REDACTED]"
```

---

## ðŸš€ PERFORMANCE OPTIMIZATIONS

### Prompt 11A: Implement Caching

```
Reduce API calls by implementing smart caching:
- Use React Query or SWR for data fetching
- Cache duration per endpoint:
  - /api/v3/health: 15s
  - /api/v3/system-overview: 30s
  - /api/v3/activity: 5s
  - /api/v3/knowledge/*: 5 minutes
  - /api/v3/projects/*: 5 minutes
- Revalidate on window focus
- Show cached data while revalidating (stale-while-revalidate pattern)
```

---

### Prompt 11B: Code Splitting

```
Implement lazy loading for route-based code splitting:
- Home page: always loaded (entry point)
- Ops, Agent, Projects, Knowledge, Research: lazy loaded
- Show loading fallback (spinner or skeleton) during chunk load
- Preload next likely route on hover (e.g., hovering "Ops" link preloads Ops page)
```

---

## âœ… TESTING CHECKLIST

After implementing prompts, test:
- [ ] All API endpoints return expected data
- [ ] Loading states work (disconnect wifi, observe)
- [ ] Error states work (kill backend, observe)
- [ ] Empty states work (test with no data)
- [ ] Auto-refresh works (watch timestamps update)
- [ ] Mobile responsive (test on real device if possible)
- [ ] Tab navigation works (Ops page tabs)
- [ ] Modal interactions work (Knowledge entity detail, activity expansion)
- [ ] No console errors
- [ ] No React warnings
- [ ] Smooth animations (no janky transitions)

---

## ðŸ“ IMPLEMENTATION NOTES

**Priority order:**
1. Fix Ops page tabs (Prompt 2A) â€” critical UX issue
2. Add health score widget (Prompt 1A) â€” high value, uses new API
3. Add cost analytics (Prompt 1B) â€” high value, uses new API
4. Add overnight history (Prompt 2B) â€” completes Ops page
5. Everything else per priority group

**Estimated complexity:**
- Low: Prompts 1A, 1B, 1C, 2B, 5B, 7B, 7C, 9A, 9B (simple API â†’ UI)
- Medium: Prompts 2A, 3A, 4B, 5A, 6A, 6B, 8A, 8B (requires state management)
- High: Prompts 3B, 4A, 11A, 11B (requires libraries or complex logic)

**Dependencies:**
- All Prompt 1 (new API endpoints) require tonight's API changes deployed
- Prompts 4A, 8B, 11A benefit from adding a charting library (recharts or chart.js)
- Prompt 11A works best with React Query or SWR

---

**Generated by**: Rodaco (Mission Control overnight build)  
**Date**: 2026-02-15 02:30 AM ET  
**API changes**: 5 new endpoints added to /api/v3/*  
**Total prompts**: 30 actionable improvements across 6 priority groups
