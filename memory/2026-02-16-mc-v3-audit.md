---
tags: [mission-control, audit, frontend, ui]
date: 2026-02-16
---
# MC v3 Full Audit — Feb 16, 2026

## Architecture Discovery
- Frontend now served from `mission-control/public/` by Express at :3333 (combined API + frontend)
- Build pipeline: edit `rodaco-mc/src/` → `npm run build` → copy `dist/*` to `mission-control/public/`
- Agent-browser works reliably: `open --headless` → `snapshot` (text) or `screenshot` (default /tmp path). Screenshots to workspace volume get SIGKILL (OOM on 12GB container with full swap).

## Fixes Deployed This Session

### Contrast Overhaul (Critical)
- Replaced ~56 `text-white/XX` → `text-foreground/XX` across all components and pages
- Replaced ~93 `bg-white/[0.0X]` → `bg-muted/XX` and `border-white/` → `border-border`
- Light-mode surface variables strengthened: `surface-border` 0.08→0.12, `surface-hover` 0.04→0.06
- Agent personality text: `text-foreground/60` → `text-foreground/80`
- Model badges: `text-purple/70` → `text-purple` (full opacity)
- AgentHero model badge: added `text-purple-700 dark:text-purple-300/80` for dual-mode support

### API Improvements
- Device endpoints now include `fetchedAt` ISO timestamp
- Added `sshSuccess` tracking — returns `status: "unreachable"` when all SSH commands fail
- DeviceCard updated to show "Unreachable" badge instead of fake "Healthy"

## Remaining Issues (Priority Order)

### P0 — Must Fix
1. **"active" badge on Ops** — green text on green-tinted pill, ~3:1 ratio. Switch to solid bg-success + white text
2. **"BeerPair" project tags on Research** — orange on pale orange, ~2.8:1. Same pattern fix
3. **Knowledge "Other" x3** — categories without proper mapping still fall to "Other" (may need API-side fix too)

### P1 — Should Fix
4. **Home: Broken Unicode in Last Backup card** — checkmark emoji rendering as boxes
5. **Home: "ACTIVE TASKS" duplicate label** — summary card + detail section both say "Active Tasks"
6. **Home: Gateway latency no semantic color** — 1647ms shown neutrally, should warn if >1000ms
7. **Home: Cost period toggle** — no clear active state (Today/Week/Month)
8. **Ops: Empty state** — single task with vast empty area, no CTA
9. **Agent: Emoji rendering** — role card emojis show as □ boxes

### P2 — Nice to Have
10. **Pi device card disk labels** — text wrapping on DOCKER/MEDIA values
11. **System Health bars** — no labels on the horizontal indicator bars
12. **Scroll affordance** — bottom stats row clipped with no fade/indicator
13. **Help button** — nearly invisible `?` icon bottom-right
14. **Skeleton loaders** — Ops page shows bare spinner, should use skeleton cards during load

## Screenshots
- `mc-screenshots/final-*.png` — post-fix state of all 6 pages
- `mc-screenshots/audit-*.png` — pre-fix state for comparison
